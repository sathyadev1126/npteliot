<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Study Quiz — 90 Image Questions</title>
  <style>
    :root {
      --bg: #f3f7fb;
      --card: #fff;
      --primary: #1565c0;
      --accent: #42a5f5;
    }
    body {
      font-family: Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      margin: 0;
      padding: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    header {
      max-width: 900px;
      width: 100%;
      margin-bottom: 16px;
      text-align: center;
      padding: 0 8px;
    }
    h1 {
      color: var(--primary);
      margin: 0 0 6px;
      font-size: 20px;
    }
    p.lead {
      margin: 0;
      color: #334;
      opacity: .9;
      font-size: 14px;
    }
    .container {
      width: 100%;
      max-width: 900px;
    }
    .quiz-card {
      background: var(--card);
      border-radius: 12px;
      padding: 14px;
      margin-bottom: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,.08);
      display: flex;
      gap: 14px;
      align-items: flex-start;
      flex-wrap: wrap;
    }
    .q-left {
      flex: 1 1 260px;
      max-width: 360px;
    }
    .q-left img {
      width: 100%;
      height: auto;
      border-radius: 10px;
      border: 2px solid #90caf9;
      display: block;
    }
    .q-right {
      flex: 1 1 300px;
    }
    .qmeta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }
    .qnum {
      font-weight: 700;
      color: var(--primary);
      font-size: 15px;
    }
    .options {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 8px;
    }
    .opt {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #e3eaf3;
      background: #f7fbff;
      cursor: pointer;
      text-align: center;
      font-size: 14px;
      font-weight: 600;
    }
    .opt.disabled { pointer-events: none; opacity: .7; }
    .opt.correct { background: #4caf50; color: #fff; border-color: #3e8e3e; }
    .opt.wrong { background: #e53935; color: #fff; border-color: #b72a23; }
    .explain {
      margin-top: 10px;
      padding: 10px;
      border-radius: 8px;
      background: #fbfdff;
      border: 1px solid #e6f0ff;
      color: #123;
      display: none;
      font-size: 13px;
    }
    .controls {
      display: flex;
      gap: 10px;
      margin-top: 12px;
    }
    .btn {
      padding: 8px 12px;
      border-radius: 8px;
      border: none;
      background: var(--accent);
      color: #fff;
      cursor: pointer;
      font-size: 14px;
    }
    .results {
      display: none;
      background: var(--card);
      padding: 16px;
      border-radius: 12px;
      margin-top: 14px;
      box-shadow: 0 4px 12px rgba(0,0,0,.06);
      text-align: center;
    }
    footer {
      margin-top: 12px;
      color: #666;
      font-size: 12px;
      text-align: center;
    }

    /* Mobile optimizations */
    @media (max-width: 600px) {
      body { padding: 8px; }
      h1 { font-size: 18px; }
      .quiz-card { padding: 10px; }
      .q-left, .q-right { flex: 1 1 100%; max-width: 100%; }
      .opt { font-size: 13px; padding: 8px; }
    }
  </style>
</head>
<body>
  <header class="container">
    <h1>Study Quiz — 90 Image Questions</h1>
    <p class="lead">Tap an option. Correct/incorrect feedback + explanation will show. Works on mobile & laptop.</p>
  </header>

  <main class="container" id="quizContainer"></main>

  <div class="results container" id="resultsBox">
    <h3 id="scoreText"></h3>
    <p id="percentText"></p>
    <button class="btn" onclick="restart()">Restart Quiz</button>
  </div>

  <footer class="container">
    <small>© Created by <strong>SATHYADEV</strong></small>
  </footer>

  <script>
    // your same JS logic — I didn’t touch functionality
    const questions = [
      { img: "images/s1.png", correct: "d" },
      { img: "images/s2.png", correct: "a" },
      { img: "images/s3.png", correct: "a" },
      { img: "images/s4.png", correct: "b" },
      { img: "images/s5.png", correct: "c" },
      // ... continue till s90.png
    ];
    const explanations = [
      "Q1: Correct D — all listed items can be IoT 'things'.",
      "Q2: Correct A — IoT devices use embedded systems.",
      "Q3: Correct A — IoT enables smart farms.",
      "Q4: Correct B — M2M can be direct, cloud not mandatory.",
      "Q5: Correct C — Tunneling allows internet reach.",
      // ... continue till Q90
    ];

    const quizContainer = document.getElementById('quizContainer');
    let score = 0, answeredCount = 0;

    function buildQuiz() {
      quizContainer.innerHTML = '';
      questions.forEach((q, idx) => {
        const card = document.createElement('div');
        card.className = 'quiz-card';
        card.dataset.index = idx;

        const left = document.createElement('div');
        left.className = 'q-left';
        const img = document.createElement('img');
        img.src = q.img;
        img.alt = `Question ${idx+1}`;
        left.appendChild(img);

        const right = document.createElement('div');
        right.className = 'q-right';

        const qmeta = document.createElement('div');
        qmeta.className = 'qmeta';
        const qnum = document.createElement('div');
        qnum.className = 'qnum';
        qnum.textContent = `Question ${idx+1}`;
        const placeholder = document.createElement('div');
        placeholder.innerHTML = '&nbsp;';
        qmeta.appendChild(qnum);
        qmeta.appendChild(placeholder);

        const options = document.createElement('div');
        options.className = 'options';

        ['a','b','c','d'].forEach(letter => {
          const btn = document.createElement('div');
          btn.className = 'opt';
          btn.textContent = letter.toUpperCase();
          btn.dataset.choice = letter;
          btn.onclick = () => handleChoice(idx, btn);
          options.appendChild(btn);
        });

        const explain = document.createElement('div');
        explain.className = 'explain';
        explain.id = `explain-${idx}`;
        explain.textContent = explanations[idx] || 'No explanation provided.';

        right.appendChild(qmeta);
        right.appendChild(options);
        right.appendChild(explain);

        card.appendChild(left);
        card.appendChild(right);
        quizContainer.appendChild(card);
      });
    }

    function handleChoice(index, btn) {
      const q = questions[index];
      const card = document.querySelector(`.quiz-card[data-index="${index}"]`);
      const opts = card.querySelectorAll('.opt');
      if (card.dataset.answered === 'true') return;

      opts.forEach(o => o.classList.add('disabled'));
      const chosen = btn.dataset.choice;
      const correct = q.correct.toLowerCase();

      if (chosen === correct) { btn.classList.add('correct'); score++; }
      else {
        btn.classList.add('wrong');
        opts.forEach(o => { if (o.dataset.choice === correct) o.classList.add('correct'); });
      }

      const explain = document.getElementById(`explain-${index}`);
      explain.style.display = 'block';
      card.dataset.answered = 'true';
      answeredCount++;
      if (answeredCount === questions.length) showResults();
      scrollToNext(index);
    }

    function scrollToNext(currentIndex) {
      const next = document.querySelector(`.quiz-card[data-index="${currentIndex+1}"]`);
      if (next) next.scrollIntoView({behavior:'smooth',block:'center'});
    }

    function showResults() {
      const resultsBox = document.getElementById('resultsBox');
      const scoreText = document.getElementById('scoreText');
      const percentText = document.getElementById('percentText');
      scoreText.textContent = `Your Score: ${score} / ${questions.length}`;
      const pct = Math.round((score / questions.length) * 100);
      percentText.textContent = `Percentage: ${pct}%`;
      resultsBox.style.display = 'block';
      window.scrollTo({top:document.body.scrollHeight,behavior:'smooth'});
    }

    function restart() {
      score = 0; answeredCount = 0;
      document.getElementById('resultsBox').style.display = 'none';
      buildQuiz();
      window.scrollTo({top:0,behavior:'smooth'});
    }

    buildQuiz();
  </script>
</body>
</html>
